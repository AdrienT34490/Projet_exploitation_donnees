#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import sys
import matplotlib.pyplot as plt
import Intensite

# On récupère le début et la fin de l'intervalle à grapher donné par l'utilisateur
debut, fin = sys.argv[4].split("-")
debut = int(debut)
fin = int(fin)
# Dans le cas où l'utilisateur ait mis une fin plus petite que le début par erreur,
# on inverse les valeurs.
if debut >= fin:
    debut, fin = fin, debut

dict = Intensite.dict
ListeX = []
ListeY = []

for i in dict:
    if len(dict.get(i)) != 0:
        moyenneListeFenetre1 = sum(i) / len(i)
        moyenneListeFenetre2 = sum(dict.get(i)) / len(dict.get(i))
        if debut < moyenneListeFenetre1 <= fin:
            ListeX = ListeX + [moyenneListeFenetre1]
            ListeY = ListeY + [moyenneListeFenetre2]

# cette partie permet de grapher la liste des Y en fonction de celle des X
# plt.style.use()
plt.plot(ListeX, ListeY, color='lightseagreen')
plt.title(f"Graphique allant de {ListeX[0]:.2f} à {ListeX[-1]:.2f}")
plt.xlabel("Axe de la colonne1")
plt.ylabel("Axe de la colonne2")
plt.show()