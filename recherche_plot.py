#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import sys
import matplotlib.pyplot as plt
import Intensite

# On récupère le début et la fin de l'intervalle à grapher donné par l'utilisateur
debut, fin = sys.argv[4].split("-")
debut = int(debut)
fin = int(fin)
# Dans le cas où l'utilisateur ait mis une fin plus petite que le début par erreur,
# on inverse les valeurs.
if debut >= fin:
    debut, fin = fin, debut
# le numéro des colonnes est donné de manière "naturelle",
# on soustrait donc 1 au nombre donné pour avoir l'index.
colonne1 = int(sys.argv[5]) - 1
colonne2 = int(sys.argv[6]) - 1

ListeX = [] #Servira à stocker les données qui iront sur l'axe des x
ListeY = [] #Servira à stocker les donée qui iront sur l'axe des x
for value in Intensite.Donnees[colonne1]:
    # On utilise une technique similaire à celle utilisée pour le dictionnaire dans intensité.py
    if debut <= value <= fin:
        index = Intensite.Donnees[colonne1].index(value)
        ListeX = ListeX + [Intensite.Donnees[colonne1][index]]
        ListeY = ListeY + [Intensite.Donnees[colonne2][index]]

# cette partie permet de grapher la liste des Y en fonction de celle des X
# plt.style.use()
plt.plot(ListeX, ListeY, color='lightseagreen')
plt.title(f"Graphique allant de {ListeX[0]:.2f} à {ListeX[-1]:.2f}")
plt.xlabel("Axe de la colonne1")
plt.ylabel("Axe de la colonne2")
plt.show()